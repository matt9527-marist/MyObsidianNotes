## Overview of Public Key Infrastructure (PKI)
![[Pasted image 20251105154847.png]]
PKI is used to validate public keys and who created them. 
Suppose we have a legitimate website and then a malicious shadow website that is trying to pose as the legitimate website with their own public keys. 

This is done via a Certificate Authority (CA) who issues a certificate to the requesting (CSR) client. 

**Multilevel Certificates**
The central CA will certify others to initiate certificates. 
*Certificate chain* - shows that those who a certificate were certified by the central CA. 
![[Pasted image 20251105155808.png]]
"Who do we trust?"
We validate root-CA's and their certificates through browser and system updates. The root CA, however, is not responsible for signing every single incoming request. To fix this, we have intermediate certificate authorities. Intermediate CAs will certify other entities. 

Root CA -- (validates) -- > Intermedaite PKs -- (validates) -- ... --> End Entity PKs 

Larger entities like Facebook, Instagram, or Verizon might have shorter certificate chains, usually only having one intermediate CA. 

**Certificate Expiration**
We need to be able to make sure we are not using these public keys indefinitely. Why? Keys are similar to passwords, and it is hard to tell when someone compromises an encryption key. We can isolate the effects of a key breach. Certificates are the same. 

- Expiration of certificates allows for:
	- Keeping information about the certified entity up to date. 
	- Ensuring that new CA keys and new public keys are put into use. 

Remember that the point of the certificates is to validate public keys, so we need to have expiration dates in order for keys to be revalidated. 

There are usually set periods, typically 5-year expiration periods. 

**Current Challenges of PKI**
*Names*
- Small Village vs. Big City 
	- From a small perspective, certificates for each singular name works. But what happens when we scale this to everyone? 
	- We may have multiple instances with the same name. 
	- As we grow this to the whole Internet, there is a problem of how to determine unique identifiers. There also many types of identifiers. 
	This creates a problem in PKI because one person may have different keys/certificates. 
*Authority*
- Is CA the main authority? 
	- We see this more in smaller organizations and hierarchies. 
	- How do we determine who has the authority to sign certificates?
*Trust*
- Can we trust the certificate authority?
	- Different from authority, which pertains to who has the function to do something. 
	- What happens when there are dubious CAs?
	- The basis of trust within a PKI should be based on contractual relationships. For example, we often pay for domains and thereby create a contract in order to establish that relationship. 
	- Also, who has liability?
*Indirect Authorization*
- Systems do not care who the key belongs to, only what the keyholder is allowed to do. 
	- Access Control Lists (ACLs) identify who is authorized to do what. 
	- PKI links keys to names, and names to permissions. 
	- Solution: use direct authorization. 
*Credential Systems*
- Allows for organizations to provide access. Usually doesn't include any certificate mechanisms, but we need these mechanisms to ensure systems are dynamic. 
	- Can come with a lot overhead and complexity (creates an issue where we then become lax on security)
	- Not amicable to users.
	- One use case- hierarchical CA structure 

**The Modified Dream**
1. Each application has its own PKI with its own CA.
2. The user must use different keys for each PKI.
3. The PKI’s main purpose is to tie a credential to the key.

**Revocation** – The most difficult problem in PKI
Revocation Requirements
1. Speed of revocation
2. Reliability of revocation
3. Number of revocations
4. Connectivity
The three possible solutions to revocation are revocation lists, fast expiration, and online certificate verification.

**Certificate Revocation Lists (CRLs)**
A certificate revocation list, or CRL, is a database  
that contains a list of revoked certificates. This is not the best solution. 

• Those looking to verify the certificate  
must check the revocation list.  
• Advantages  
	1. Revocation is immediate  
	2. No upper limit on revocations  

• Disadvantages  
	1. Availability 

**Fast Expiration**
Possible revocation times range from 10 minutes to 24 hours. 
![[Pasted image 20251105164015.png]]
Can mistakenly occur on websites who do not update their certificates in time. Adds a lot of overhead due to needing to update often. There are automated solutions. This is the best option but has performance worries. 

**Online Verification**
1. Client queries the CA regarding the certificate in  
question  
2. The CA looks up the certificate in its own database and  
responds with it’s status
![[Pasted image 20251105164121.png]]
Opposite of a certificate-revocation list, where the verification is online, not on the local systems. 

**PKI or Key Server for Key Management?**
1. If you have a small system, PKI is often too complex  
and a server is appropriate.  
2. You should seriously consider PKI for most larger  
systems.


